<!DOCTYPE html>
<html>
<head>
    <title>Linux Admin Toolkit Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
</head>
<body>

    <h1>System Logs Dashboard</h1>

    <!-- LOG SUMMARY CARD -->
    <div class="card">
        <h3>Log Summary</h3>

        {% if stats %}
            <ul>
                {% for row in stats %}
                    <li>{{ row.service }}: {{ row.count }}</li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No statistics available.</p>
        {% endif %}
    </div>

    <!-- RECENT LOGS CARD -->
    <div class="card">
        <h3>Recent Logs</h3>

        <!-- FILTER BAR -->
        <div class="filter-container">
            <input type="text" id="filterInput" class="filter-input"
                   placeholder="Filter logs (timestamp, raw, service, file, message)...">
        </div>

        <table id="logTable">
            <thead>
                <tr>
                    <th data-col="timestamp">Timestamp</th>
                    <th data-col="raw">Raw</th>
                    <th data-col="service">Service</th>
                    <th data-col="source_file">Source File</th>
                    <th data-col="message">Message</th>
                </tr>
            </thead>

            <tbody>
                {% if logs %}
                    {% for log in logs %}
                        <tr>
                            <td>{{ log.timestamp }}</td>
                            <td>{{ log.raw }}</td>
                            <td>{{ log.service }}</td>
                            <td>{{ log.source_file }}</td>
                            <td>{{ log.message }}</td>
                        </tr>
                    {% endfor %}
                {% else %}
                    <tr>
                        <td colspan="5">No logs available.</td>
                    </tr>
                {% endif %}
            </tbody>
        </table>
    </div>

    <script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>

</body>
</html>
